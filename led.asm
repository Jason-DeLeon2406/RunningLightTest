.MODEL SMALL
.DATA
MS1 DB 0DH, 0AH, '---------------------------------------------','$'
MS2 DB 0DH, 0AH, '|	       RUNNING LIGHTS MENU	    |','$'
MS3 DB 0DH, 0AH, '---------------------------------------------','$'
MS4 DB 0DH, 0AH, '1.	LEFT TO RIGHT       ','$'
MS5 DB 0DH, 0AH, '2.	RIGHT TO LEFT       ','$'
MS6 DB 0DH, 0AH, '3.	CONVERGING	    ','$'
MS7 DB 0DH, 0AH, '4	DIVERGING	    ','$'
MS8 DB 0DH, 0AH, '5.	PATTERN 1	    ','$'
MS9 DB 0DH, 0AH, '6.    	PATTERN 2	    ','$'
MS10 DB 0DH, 0AH, '7. 	PATTERN 3	    ','$'
MS11 DB 0DH, 0AH, '0. 	EXIT	    ','$'

.STACK 200
ORG 1000
.386
.CODE
START:
MOV AX, @DATA
MOV DS, AX
LEA DX, MS1
MOV AH, 09H
INT 21H
LEA DX, MS2
MOV AH, 09H
INT 21H
LEA DX, MS3
MOV AH, 09H
INT 21H
LEA DX, MS4
MOV AH, 09H
INT 21H
LEA DX, MS5
MOV AH, 09H
INT 21H
LEA DX,MS6
MOV AH, 09H
INT 21H
LEA DX,MS7
MOV AH, 09H
INT 21H
LEA DX,MS8
MOV AH, 09H
INT 21H
LEA DX,MS9
MOV AH, 09H
INT 21H
LEA DX,MS10
MOV AH, 09H
INT 21H
LEA DX,MS11
MOV AH, 09H
INT 21H

START2:
CALL TEST1
JMP START2
TEST1:
PUSH CX
PUSH AX
PUSH DX
MOV AH, 06
MOV DL, 0FFH
INT 21H
CMP AL, '0'
JE EXIT
CMP AL, '1'
JE RIGHT
CMP AL, '2'
JE LEFT
CMP AL, '3'
JE CONVER
CMP AL, '4'
JE DIVER
CMP AL, '5'
JE PTRN1
CMP AL, '6'
JE PTRN2
CMP AL, '7'
JE PTRN3
POP DX
POP AX
POP CX
RET
EXIT: MOV AH, 4CH
INT 21H

RIGHT: 
MOV BL, 0007
MOV AL, 80H
MOV DX, 03BCH

LOOP1: OUT DX,AL
       CALL TEST1

LOOP2: ROR AL, 0001
       MOV DX, 03BCH
	OUT DX,AL

LOOP3: CALL DELAY
	DEC BL
	JNZ LOOP2
	JMP RIGHT


LEFT:

MOV BL, 0007
MOV AL, 01H
MOV DX, 03BCH

LOOP4: OUT DX,AL
       CALL TEST1

LOOP5: ROL AL, 0001
       MOV DX, 03BCH
	OUT DX,AL

LOOP6: CALL DELAY
	DEC BL
	JNZ LOOP5
	JMP LEFT

CONVER:
 	MOV AL,18H 
	MOV DX,03BCH

 	OUT DX,AL
	CALL TEST1
	MOV AL,24H
	MOV DX,03BCH

 	OUT DX,AL
	MOV AL,42H
	MOV DX,03BCH

	OUT DX,AL
	MOV AL,81H
	MOV DX,03BCH

	OUT DX,AL
	CALL DELAY
	JMP CONVER
DIVER:
	MOV AL, 81H
	MOV DX, 03BCH

	OUT DX, AL
        CALL TEST1
	MOV AL, 42H
	MOV DX, 03BCH
	
        OUT DX, AL
        MOV AL, 24H
        MOV DX, 03BCH
	      
        OUT DX, AL
        MOV AL, 18H
        MOV DX, 03BCH 

	
	OUT DX, AL
        CALL DELAY
        JMP DIVER

PTRN1:
        MOV AL, 11100000B
        MOV DX, 03BCH
	OUT DX, AL
	CALL TEST1

	MOV AL, 0H
        MOV DX, 03BCH
	OUT DX, AL
        
	MOV AL, 11100000B
        MOV DX, 03BCH
	OUT DX, AL
        
	MOV AL, 0H
        MOV DX, 03BCH
        OUT DX, AL

	MOV AL, 00011100B
	MOV DX, 03BCH

	OUT DX, AL
	MOV AL, 00000011B
	MOV DX, 03BCH
        
	OUT DX, AL
	MOV AL, 00011100B
	MOV DX, 03BCH
        
	OUT DX, AL
	MOV AL, 00000011B
	MOV DX, 03BCH

	OUT DX, AL
        CALL DELAY
        JMP PTRN1

PTRN2:

	MOV AL, 00FEH
	MOV DX, 03BCH
	MOV CL, 0007 
        
LOOP7:	OUT DX, AL
        CALL TEST1

LOOP8:	ROR AL, 0001
        MOV DX, 03BCH
	OUT DX, AL

LOOP9:  CALL DELAY
	DEC CL
	JNZ LOOP8
        JMP PTRN2
	
PTRN3:

	MOV AL, 01010101B
	MOV DX, 03BCH

	OUT DX,AL
	CALL TEST1
	MOV AL, 10101010B
	MOV DX, 03BCH

	OUT DX,AL
	CALL DELAY
	JMP PTRN3
	
DELAY:  PUSH CX
	PUSH AX
	PUSH DX

MOV CX, 1CH
MOV DX, 1CH
MOV AX, 86H
INT 15H
POP DX
POP AX
POP CX
RET
END START
